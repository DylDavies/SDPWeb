<form mat-dialog-content class="dialog-content" [formGroup]="leaveForm">
  <div class="header">
    <mat-icon>flight_takeoff</mat-icon>
    <h1 mat-dialog-title style="margin-bottom: 10px;">Request Leave</h1>
  </div>

  <mat-form-field class="full-width" appearance="outline">
    <mat-label>Reason</mat-label>
    <textarea matInput rows="4" placeholder="Please provide a reason for your leave..." formControlName="reason"></textarea>
    <!-- **** ADDED: Error message for the reason field **** -->
    @if (leaveForm.get('reason')?.hasError('required') && leaveForm.get('reason')?.touched) {
      <mat-error>A reason for leave is required.</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="full-width" appearance="outline">
    <mat-label>Enter a date range</mat-label>
    <mat-date-range-input [rangePicker]="picker" [min]="minDate">
      <input matStartDate placeholder="Start date" formControlName="startDate">
      <input matEndDate placeholder="End date" formControlName="endDate">
    </mat-date-range-input>
    <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker" style="margin-right: 5px;"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>
    
    @if (leaveForm.hasError('invalidRange') && leaveForm.get('endDate')?.touched) {
      <mat-error>The start date must be before the end date.</mat-error>
    }
  </mat-form-field>

  <div mat-dialog-actions align="end">
    <button mat-stroked-button mat-dialog-close>Cancel</button>
    <button mat-stroked-button color="primary" [disabled]="leaveForm.invalid" (click)="onSubmit()">Submit Request</button>
  </div>
</form>
